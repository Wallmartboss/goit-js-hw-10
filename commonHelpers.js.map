{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nlet userSelectedDate;\nlet inputedDate;\nlet timerTime;\nlet days;\nlet hours;\nlet minutes;\nlet seconds;\n\nconst selectedDate = document.querySelector(\"#datetime-picker\");\nconst button = document.querySelector(\"button[data-start]\");\nconst timerDays = document.querySelector(\".value[data-days]\");\nconst timerHours = document.querySelector(\".value[data-hours]\");\nconst timerMinutes = document.querySelector(\".value[data-minutes]\");\nconst timerSeconds = document.querySelector(\".value[data-seconds]\");\n\nbutton.disabled = true;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    inputedDate = selectedDates[0].getTime();\n        if (inputedDate < Date.now()) {\n      iziToast.show({\n        title: 'Error!',\n        message: 'Please choose a date in the future',\n        position: `topRight`,\n        backgroundColor: 'red',\n        titleColor: `#fff`,\n        messageColor: `#fff`,\n    });\n      button.disabled = true;\n       }  else {\n     userSelectedDate = selectedDates[0];\n     button.disabled = false;\n       }\n    },\n  };\n\nflatpickr(selectedDate, options);\n\nconst startTimer = button.addEventListener(\"click\", onClick);\n\nfunction onClick ()  {\n    const setUserTimerId = setInterval(() => {\n    timerTime = inputedDate - Date.now();\n    if (timerTime <= 0) {\n      clearInterval(setUserTimerId);\n      selectedDate.disabled = false;\n      button.disabled = false;\n      return\n    } else {\n      const { days, hours, minutes, seconds } = convertMs(timerTime);\n      fillingTimers({days, hours, minutes, seconds});\n      selectedDate.disabled = true;\n      button.disabled = true;\n    };\n    }, 1000);\n}\n\nfunction fillingTimers({days, hours, minutes, seconds}) {\n  timerDays.textContent = `${days}`;\n  timerHours.textContent = `${hours}`;\n  timerMinutes.textContent =`${minutes}`;\n  timerSeconds.textContent = `${seconds}`;\n};\n\nfunction addLeadingZero(value) {\n   return String(value).padStart(2,0);\n }\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n   days =  addLeadingZero(Math.floor(ms / day));\n     // Remaining hours\n   hours =  addLeadingZero(Math.floor((ms % day) / hour));\n  // Remaining minutes\n   minutes =  addLeadingZero(Math.floor(((ms % day) % hour) / minute));\n  // Remaining seconds\n   seconds =  addLeadingZero(Math.floor((((ms % day) % hour) % minute) / second));\n\n  return { days, hours, minutes, seconds };\n}"],"names":["inputedDate","timerTime","days","hours","minutes","seconds","selectedDate","button","timerDays","timerHours","timerMinutes","timerSeconds","options","selectedDates","iziToast","flatpickr","onClick","setUserTimerId","convertMs","fillingTimers","addLeadingZero","value","ms"],"mappings":"2GAMA,IAAIA,EACAC,EACAC,EACAC,EACAC,EACAC,EAEJ,MAAMC,EAAe,SAAS,cAAc,kBAAkB,EACxDC,EAAS,SAAS,cAAc,oBAAoB,EACpDC,EAAY,SAAS,cAAc,mBAAmB,EACtDC,EAAa,SAAS,cAAc,oBAAoB,EACxDC,EAAe,SAAS,cAAc,sBAAsB,EAC5DC,EAAe,SAAS,cAAc,sBAAsB,EAElEJ,EAAO,SAAW,GAElB,MAAMK,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrBb,EAAca,EAAc,CAAC,EAAE,QAAO,EAC9Bb,EAAc,KAAK,OACzBc,EAAS,KAAK,CACZ,MAAO,SACP,QAAS,qCACT,SAAU,WACV,gBAAiB,MACjB,WAAY,OACZ,aAAc,MACtB,CAAK,EACCP,EAAO,SAAW,KAEAM,EAAc,CAAC,EAClCN,EAAO,SAAW,GAElB,CACL,EAEAQ,EAAUT,EAAcM,CAAO,EAEZL,EAAO,iBAAiB,QAASS,CAAO,EAE3D,SAASA,GAAY,CACjB,MAAMC,EAAiB,YAAY,IAAM,CAEzC,GADAhB,EAAYD,EAAc,KAAK,MAC3BC,GAAa,EAAG,CAClB,cAAcgB,CAAc,EAC5BX,EAAa,SAAW,GACxBC,EAAO,SAAW,GAClB,MACN,KAAW,CACL,KAAM,CAAE,KAAAL,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYa,EAAUjB,CAAS,EAC7DkB,EAAc,CAAC,KAAAjB,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAAC,EAC7CC,EAAa,SAAW,GACxBC,EAAO,SAAW,EACxB,CACK,EAAE,GAAI,CACX,CAEA,SAASY,EAAc,CAAC,KAAAjB,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAG,CACtDG,EAAU,YAAc,GAAGN,CAAI,GAC/BO,EAAW,YAAc,GAAGN,CAAK,GACjCO,EAAa,YAAa,GAAGN,CAAO,GACpCO,EAAa,YAAc,GAAGN,CAAO,EACvC,CAEA,SAASe,EAAeC,EAAO,CAC5B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAE,CAAC,CAClC,CAEF,SAASH,EAAUI,EAAI,CAQpB,OAAApB,EAAQkB,EAAe,KAAK,MAAME,EAAK,KAAG,CAAC,EAE3CnB,EAASiB,EAAe,KAAK,MAAOE,EAAK,MAAO,IAAI,CAAC,EAErDlB,EAAWgB,EAAe,KAAK,MAAQE,EAAK,MAAO,KAAQ,GAAM,CAAC,EAElEjB,EAAWe,EAAe,KAAK,MAASE,EAAK,MAAO,KAAQ,IAAU,GAAM,CAAC,EAEvE,CAAE,KAAApB,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC"}